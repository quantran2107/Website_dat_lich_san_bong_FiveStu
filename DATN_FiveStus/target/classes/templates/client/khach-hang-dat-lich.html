<!DOCTYPE html>
<html lang="en">

<div th:include="~{fragment/client/headClient :: headClient}"></div>

<body>

<div th:include="~{fragment/client/contentHeaderClient :: contentHeaderClient}"></div>

<div th:include="~{fragment/client/headerClient :: headerClient}"></div>

<section class="discount-coupon py-5 mb-5" style="position: relative;">
    <div class="container" style="position: relative; z-index: 2;">
        <div class="row align-items-center">
            <div class="col-lg-12 text-center text-lg-left mb-4 mb-lg-0">
                <h1 class="text-light font-weight-bold mb-3" style="text-transform: uppercase">Đặt sân cùng FiveStu</h1>
                <p>
                    <a th:href="@{/khach-hang/dat-san}" class="btn btn-success btn-lg py-3 px-5 mr-3 mb-2">Hướng dẫn đặt
                        lịch</a>
                    <a th:href="@{/khach-hang-noi-quy2}" class="btn btn-warning btn-lg py-3 px-5 ms-3 mb-2">Nội quy</a>
                </p>
            </div>
        </div>
    </div>
    <img th:src="@{/client/images/img5.jpeg}" alt="Sân bóng FiveStu" class="img-fluid rounded shadow"
         style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;z-index: 1;">
</section>

<section class="card shadow mb-5 mx-4">
    <div class="card-header d-flex justify-content-end align-items-center">
        <div class="container my-3 d-flex justify-content-end">
            <div class="dropdown ms-3">
                <select class="form-select" id="dropdownLoaiSan" style="width: 300px;">
                    <option selected>Chọn loại sân</option>
                    <!-- Options will be dynamically added here -->
                </select>
            </div>
        </div>

    </div>
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-center my-3">
            <div class="d-inline-flex">
                <button id="prev" class="btn btn-outline-secondary me-2"><</button>
                <button id="next" class="btn btn-outline-secondary me-2">></button>
                <button id="today" class="btn btn-outline-secondary me-2">Hôm nay</button>
            </div>
            <h4 id="currentRange" class="text-center mb-0">Hiển thị khoảng ngày</h4>
            <div class="d-inline-flex">
                <button id="month" class="btn btn-success ms-2">Tháng</button>
                <button id="week" class="btn btn-success ms-2">Tuần</button>
                <button id="day" class="btn btn-success ms-2">Ngày</button>
            </div>
        </div>
        <table class="table table-bordered table-hover my-4">
            <thead>
            <tr>
                <th>Giờ</th>
                <th>Sân</th>
                <th>Thứ Hai 28/10</th>
                <th>Thứ Ba 29/10</th>
                <th>Thứ Tư 30/10</th>
                <th>Thứ Năm 31/10</th>
                <th>Thứ Sáu 01/11</th>
                <th>Thứ Bảy 02/11</th>
                <th>Chủ Nhật 03/11</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>

</section>

<div th:include="~{fragment/client/footerClient :: footerClient}"></div>
<script th:src="@{/client/js/jquery-1.11.0.min.js}"></script>
<script th:src="@{/client/js/plugins.js}"></script>
<script th:src="@{/client/js/script.js}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        fetch('http://localhost:8080/loai-san/hien-thi')
            .then(response => response.json())
            .then(data => {
                const uniqueLoaiSan = [...new Map(data.map(item => [item.tenLoaiSan, item])).values()];
                const dropdownLoaiSan = document.getElementById('dropdownLoaiSan');

                uniqueLoaiSan.forEach(loaiSan => {
                    const option = document.createElement('option');
                    option.value = loaiSan.id;
                    option.textContent = loaiSan.tenLoaiSan;
                    dropdownLoaiSan.appendChild(option);
                });
            })
            .catch(error => console.error('Lỗi khi gọi API:', error));

        document.getElementById('dropdownLoaiSan').addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            console.log("ID của loại sân đã chọn:", selectedOption.value); // Log the selected ID
            this.selectedIndex = 0; // Reset to default
            this.options[0].textContent = selectedOption.textContent; // Update combobox text
        });
    });
</script>

</body>

</html>